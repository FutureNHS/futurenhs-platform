{
  "db": "PostgreSQL",
  "1088816e7a307f67fb0a1d0d7a819ae51170c31dd50b31f16208e4b7d3d04fd8": {
    "query": "SELECT files.id,\n    file_versions.file_title AS title,\n    file_versions.file_description AS description,\n    file_versions.folder,\n    file_versions.file_name,\n    file_versions.blob_storage_path,\n    file_versions.file_type,\n    files.created_at,\n    file_versions.created_at AS modified_at,\n    files.deleted_at,\n    files.latest_version\n\nFROM files JOIN file_versions ON files.latest_version = file_versions.id\nWHERE files.id = $1\nAND files.deleted_at IS NULL\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "folder",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "file_name",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "blob_storage_path",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "file_type",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "modified_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "latest_version",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ]
    }
  },
  "1428409bb70e6a2ff2c1210b46400ab6ad05fdd8fa7a50c72c7f1c04214167a9": {
    "query": "SELECT id, \n    title,\n    description,\n    workspace\nFROM folders\nWHERE id = $1\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "1e0b8019facae1c96adbe96d0780c21749ceec1be4a9ab5d07a91a7b99ef135b": {
    "query": "SELECT id, \n    title,\n    description,\n    workspace\nFROM folders\nWHERE workspace = $1\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "3588b04670ed16bc2dc9ddb7d791336923afaee153fdcce2bee466c8c8c390b2": {
    "query": "INSERT INTO users (auth_id, name, is_platform_admin)\nVALUES ($1, $2, FALSE)\nON CONFLICT (auth_id) DO UPDATE\n-- Noop; sql syntax to allow return without use of Option type\n    SET name = users.name\nRETURNING *;\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "auth_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "is_platform_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "394f0934d95043c252988e7d90476223a7b1ad35c4366f60c4c81d676d3f0109": {
    "query": "SELECT * FROM users WHERE auth_id = $1;\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "auth_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "is_platform_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "44b91b63dbd034f908add2ff7a3e9eace7a2cd8f625ca0e180d37f872ce26b22": {
    "query": "UPDATE workspaces\nSET title = COALESCE($2, title),\n    description = COALESCE($3, description)\nWHERE id = $1\nRETURNING id, title, description\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "59c582a57ee3e627412bced17b8319334bfb6ea4ac13cca7813812a2d383fb26": {
    "query": "DELETE FROM folders\nWHERE id = $1\nRETURNING id, title, description, workspace\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "6838012c47967c14881d876ed76d001c68b4f95ae423f35ebc3c49adcaf2b3da": {
    "query": "INSERT INTO file_versions (\n    id,\n    folder,\n    file,\n    file_title,\n    file_description,\n    file_name,\n    file_type,\n    blob_storage_path,\n    created_at,\n    created_by,\n    version_number,\n    version_label\n)\nVALUES ($1, $2, $3, $4, $5, $6, $7, $8, NOW(), $9, $10, $11)\nRETURNING *\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "folder",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "file",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "file_title",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "file_description",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "file_name",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "file_type",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "blob_storage_path",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "created_by",
          "type_info": "Uuid"
        },
        {
          "ordinal": 10,
          "name": "version_number",
          "type_info": "Int2"
        },
        {
          "ordinal": 11,
          "name": "version_label",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid",
          "Text",
          "Text",
          "Text",
          "Text",
          "Text",
          "Uuid",
          "Int2",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "7e36b4f75277160f17428493ede8939d337eed375864a238af996d4957649f4d": {
    "query": "DELETE FROM workspaces\nWHERE id = $1\nRETURNING id, title, description\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "8966dfe9e28e5225f73a5258085484b942503d3db9baae72e9d17379eb9be9a3": {
    "query": "SELECT id,\n    title,\n    description\nFROM workspaces\nORDER BY id\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "b3973f7ae3ca5e3e1e5b6c0767f18eb3b4885faea01905855d3663781420ad8b": {
    "query": "INSERT INTO files (created_by, created_at, latest_version)\nVALUES ($1, NOW(), $2) \nRETURNING *\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_by",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "created_by",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "latest_version",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        true,
        false,
        false
      ]
    }
  },
  "b80c3e5c6e1620ccee068d08214bc0c787967400a6a10f45c6065ba22bea4369": {
    "query": "SET CONSTRAINTS ALL DEFERRED;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": []
      },
      "nullable": []
    }
  },
  "bc9295f39b14cbd41e34a3633acb31d0d727753dc9803cb7fb7325fb2665b267": {
    "query": "INSERT INTO workspaces (title, description)\nVALUES ($1, $2)\nRETURNING id, title, description\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "cba8c2bf445a8315bdc51b6b3e87629cb2cb05186240a7731157c4f6b34ca377": {
    "query": "UPDATE folders\nSET title = COALESCE($2, title),\n    description = COALESCE($3, description)\nWHERE id = $1\nRETURNING id, title, description, workspace\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "d5d3145051893e2cf7ceb9bffbc9934d37d7c3ecc2c0c4addcf4f970cfd0c209": {
    "query": "INSERT INTO folders (title, description, workspace)\nVALUES ($1, $2, $3)\nRETURNING id, title, description, workspace\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "workspace",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "ea257e491676c90e8ed52217b27eeea85d233443f3a65046c5b5128a64a4fce0": {
    "query": "SELECT id, \n    title,\n    description\nFROM workspaces\nWHERE id = $1\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "ef2e726e306ddabb2b8ab90d1357ac5899cc98efbbf7e8f65a7155d3f75dbfbf": {
    "query": "UPDATE files\nSET deleted_at = NOW(), deleted_by = $2\nFROM file_versions\nWHERE files.id = $1\nAND files.latest_version = file_versions.id\nRETURNING\n    files.id,\n    file_versions.file_title AS title,\n    file_versions.file_description AS description,\n    file_versions.folder,\n    file_versions.file_name,\n    file_versions.blob_storage_path,\n    file_versions.file_type,\n    files.created_at,\n    file_versions.created_at AS modified_at,\n    files.deleted_at,\n    files.latest_version\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "folder",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "file_name",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "blob_storage_path",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "file_type",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "modified_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "latest_version",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ]
    }
  },
  "fab511bd36333130a3994817dd646ad8f2ebeff05f66eadd663741cff69440a9": {
    "query": "UPDATE users\nSET is_platform_admin = $2\nWHERE auth_id = $1\nRETURNING *\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "auth_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "is_platform_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Bool"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "fd8fdd7353f67882eb09ac7bc71a7639b734f3d54d639b97d8d55544331734d4": {
    "query": "SELECT files.id,\n    file_versions.file_title AS title,\n    file_versions.file_description AS description,\n    file_versions.folder,\n    file_versions.file_name,\n    file_versions.blob_storage_path,\n    file_versions.file_type,\n    files.created_at,\n    file_versions.created_at AS modified_at,\n    files.deleted_at,\n    files.latest_version\n\nFROM files JOIN file_versions ON files.latest_version = file_versions.id\nWHERE file_versions.folder = $1\nAND files.deleted_at IS NULL\nORDER BY file_versions.file_title\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "description",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "folder",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "file_name",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "blob_storage_path",
          "type_info": "Text"
        },
        {
          "ordinal": 6,
          "name": "file_type",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "modified_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "latest_version",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ]
    }
  }
}