# Generated by copy pasting from workspace service graphql playground, and is reference within codegen.yaml.
# TODO: Work out how to autogenerate this from the workspace service.

# Directs the executor to query only when the field exists.
directive @ifdef on FIELD

# Implement the DateTime<Utc> scalar
#
# The input/output is a string in RFC3339 format.
scalar DateTime

# A file
type File {
  # The id of the file
  id: ID!

  # The title of the file
  title: String!

  # The description of the file
  description: String!

  # The id of the parent folder
  folderId: ID!

  # The name of the file
  fileName: String!

  # The type of the file
  fileType: String!

  # The blob storage path for the file
  blobStoragePath: String!

  # The time the file was created
  createdAt: DateTime!

  # The time the file was modified
  modifiedAt: DateTime!

  # The time the file was deleted
  deletedAt: DateTime
}

# A folder
type Folder {
  # The id of the folder
  id: ID!

  # The title of the folder
  title: String!

  # The description of the folder
  description: String!

  # The workspace that this folder is in
  workspace: ID!
}

type Mutation {
  # Create a new workspace (returns the created workspace)
  createWorkspace(newWorkspace: NewWorkspace!): Workspace!

  # Update workspace (returns updated workspace
  updateWorkspace(id: ID!, workspace: UpdateWorkspace!): Workspace!

  # Delete workspace(returns deleted workspace
  deleteWorkspace(id: ID!): Workspace!

  # Create a new folder (returns the created folder)
  createFolder(newFolder: NewFolder!): Folder!

  # Update folder (returns updated folder
  updateFolder(id: ID!, folder: UpdateFolder!): Folder!

  # Delete folder (returns deleted folder
  deleteFolder(id: ID!): Folder!
}

input NewFolder {
  title: String!
  description: String!
  workspace: ID!
}

input NewWorkspace {
  title: String!
  description: String!
}

type Query {
  # Get a file upload URL
  fileUploadUrl: Url!

  # Get all Workspaces
  workspaces: [Workspace!]!

  # Get workspace by ID
  workspace(id: ID!): Workspace!

  # Get all Folders in a workspace
  foldersByWorkspace(workspace: ID!): [Folder!]!

  # Get folder by ID
  folder(id: ID!): Folder!

  # Get all Files in a workspace
  filesByFolder(folderId: ID!): [File!]!

  # Get file by ID
  file(id: ID!): File!
  _service: _Service!
  _entities(representations: [_Any!]!): [_Entity]!
}

input UpdateFolder {
  title: String!
  description: String!
}

input UpdateWorkspace {
  title: String!
  description: String!
}

scalar Url

# A workspace
type Workspace {
  # The id of the workspace
  id: ID!

  # The title of the workspace
  title: String!

  # The description of the workspace
  description: String!
}

# The `_Any` scalar is used to pass representations of entities from external services into the root `_entities` field for execution.
scalar _Any

union _Entity = Workspace | Folder

type _Service {
  sdl: String
}
